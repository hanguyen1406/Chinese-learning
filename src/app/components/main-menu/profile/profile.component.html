<div style="margin-top: 80px;"  class="container">
  
  <div class="main-body">
    <div class="row">
      <div class="col-lg-4">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="Admin" class="rounded-circle" width="150">
              <div class="mt-3">
                
                <h4>{{user?.name}} {{user?.surname}}</h4>

                <p class="text-secondary mb-1">
                  <ng-container *ngFor="let role of roles; let isLast=last">{{role}}{{isLast ? '' : ', '}}</ng-container>
                </p> 

                <span *ngIf="full">{{userAdress?.country}}, {{userAdress?.city}}<br>
                                    {{userAdress?.streetAndNumber}}</span>
              </div>
            </div>
            
            
          </div>
        </div>
      </div>
      <div class="col-lg-8">
        <div class="card" [formGroup]="formCreateEditUser" novalidate>
          <div class="card-body">
            <div class="row mb-3">
              <div class="col-sm-3">
                <h6 class="mb-0">Tên *</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="email" name="name" formControlName="name" placeholder="Enter Name" class="form-control">
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-3">
                <h6 class="mb-0">Họ *</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="text" name="surname" formControlName="surname" placeholder="Enter Surname" class="form-control">
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-3">
                <h6 class="mb-0">E-Mail *</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="email" name="email" formControlName="email" placeholder="Enter E-Mail" class="form-control" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" (change)="checkEmail()">
                <mat-error [hidden]="!formCreateEditUser.controls['email'].errors?.pattern">Please enter correct format</mat-error>
              </div>
            </div>

          <div *ngIf="kliknut">
            <div class="row mb-3">
              <div class="col-sm-3">
                <h6 class="mb-0">Username *</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="text" name="username" formControlName="username" class="form-control" (change)="checkU()">
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-sm-3">
                <h6 class="mb-0">Password</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <input type="lozinka" name="lozinka" [value]="lozinka" (change)="lozinka = $event.target.value" placeholder="New password" class="form-control">
              </div>
            </div>

          </div>
            <div class="alert alert-warning" *ngIf="isFailed">
              Failed!<br />{{ errorMessage }}
            </div>
           
            <div class="row">
              <div class="col-sm-3"></div>
              <div class="col-sm-9 text-secondary">
                <input type="button" class="btn btn-primary px-4" (click)="saveUser()" *ngIf="formCreateEditUser.value.id != null" value="Lưu thay đổi">
                
                <input type="button" style="margin-left: 20px;" class="btn btn-primary px-4" (click)="details()" *ngIf="formCreateEditUser.value.id != null" value="Chi tiết">
                <input *ngIf="kliknut" type="button" style="margin-left: 20px;" class="btn btn-primary px-4" (click)="hideDet()" value="Ẩn">
              </div>
            </div>
          </div>
        </div>



      </div>
    </div>
  </div>
</div>
<div id="snackbar">If you want to change username you will have to login with new credentials</div>
<ng-template #loggedOut>
  Please login.
</ng-template>
